<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Ensures optimal rendering on mobile devices. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <!-- Optimal Internet Explorer compatibility -->
    <title>Płatność | TOKAGO</title>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="icon" type="image/png" href="../../res/photo/logo.png">
    <link rel="stylesheet" type="text/css" href="../../res/css/shop.css"/>

</head>
<body>

<!-- JavaScript SDK -->
<script src="https://www.paypal.com/sdk/js?components=hosted-fields,buttons&client-id=AbG5c5Gd_wKdtCEZGXXOAiPXg4NzBKqLTGSqvEvbZc1L6Mwanhuk90VRpfg_DYQNkLGT-QPQTwq4Hylv&currency=PLN>" data-client-token="<eyJicmFpbnRyZWUiOnsiYXV0aG9yaXphdGlvbkZpbmdlcnByaW50IjoiYjA0MWE2M2JlMTM4M2NlZGUxZTI3OWFlNDlhMWIyNzZlY2FjOTYzOWU2NjlhMGIzODQyYTdkMTY3NzcwYmY0OHxtZXJjaGFudF9pZD1yd3dua3FnMnhnNTZobTJuJnB1YmxpY19rZXk9czlic3BuaGtxMmYzaDk0NCZjcmVhdGVkX2F0PTIwMTgtMTEtMTRUMTE6MTg6MDAuMTU3WiIsInZlcnNpb24iOiIzLXBheXBhbCJ9LCJwYXlwYWwiOnsiYWNjZXNzVG9rZW4iOiJBMjFBQUhNVExyMmctVDlhSTJacUZHUmlFZ0ZFZGRHTGwxTzRlX0lvdk9ESVg2Q3pSdW5BVy02TzI2MjdiWUJ2cDNjQ0FNWi1lTFBNc2NDWnN0bDUyNHJyUGhUQklJNlBBIn19>"></script>
<h1>Monety o wartości 24.99zł</h1>
<!-- Buttons container -->
<table border="0" align="center" valign="top" bgcolor="#FFFFFF" style="width:39%">
    <tr>
        <td colspan="2">
            <div id="paypal-button-container"></div>
        </td>
    </tr>
    <tr><td colspan="2">&nbsp;</td></tr>
</table>

<div align="center" class="txt1"> lub </div>

<!-- Advanced credit and debit card payments form -->
<div class="col-75">
    <div class="container">
    <form id='my-sample-form'>
        <div class="row">
            <div class="col-50">
                <h3>Adres</h3>
            <input type='text' id='card-billing-address-street' name='card-billing-address-street' autocomplete='off' placeholder='Ulica'/>
            <input type='text' id='card-billing-address-unit' name='card-billing-address-unit' autocomplete='off' placeholder='Numer domu/mieszkania'/>
            <input type='text' id='card-billing-address-city' name='card-billing-address-city' autocomplete='off' placeholder='Miasto'/>
            <input type='text' id='card-billing-address-zip' name='card-billing-address-zip' autocomplete='off' placeholder='Kod pocztowy'/>
            <input type='text' id='card-billing-address-state' name='card-billing-address-state' autocomplete='off' placeholder='Województwo'/>
            <input type='text' id='card-billing-address-country' name='card-billing-address-country' autocomplete='off' placeholder='Kraj' />
        </div>
        <div class="col-50">
            <h3>Płatność</h3>
            <label for='card-holder-name'>Nazwa na karcie</label><input type='text' id='card-holder-name' name='card-holder-name' autocomplete='off' placeholder='Nazwa posiadacza karty'/>
            <label for='card-number'>Numer Karty</label><div id='card-number' class='card_field'></div>
            <div class="row">
            <div class="col-50">
                <label for='expiration-date'>Data ważności</label><div id='expiration-date' class='card_field'></div>
            </div>
            <div class="col-50">
                <label for='cvv'>CVV</label><div id='cvv' class='card_field'></div>
            </div>
        </div>
        </div>
        </div>
        <br><br>
        <button value='submit' id='submit' class='btn'>Pay</button>
    </form>
</div>
</div>

<!-- Implementation -->
<script>
    //Displays PayPal buttons
    paypal.Buttons({
        commit: false,
        createOrder: function(data, actions) {
            // This function sets up the details of the transaction, including the amount and line item details
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: '24.99'
                    }
                }]
            });
        },
        onCancel: function (data) {
            // Show a cancel page, or return to cart
        },
        onApprove: function(data, actions) {
            // This function captures the funds from the transaction
            return actions.order.capture().then(function(details) {
                // This function shows a transaction success message to your buyer
                alert('Thanks for your purchase!');
            });
        }
    }).render('#paypal-button-container');
    // Eligibility check for advanced credit and debit card payments
    if (paypal.HostedFields.isEligible()) {
        paypal.HostedFields.render({
            createOrder: function () {return "order-ID";}, // replace order-ID with the order ID
            styles: {
                'input': {
                    'font-size': '17px',
                    'font-family': 'helvetica, tahoma, calibri, sans-serif',
                    'color': '#3a3a3a'
                },
                ':focus': {
                    'color': 'black'
                }
            },
            fields: {
                number: {
                    selector: '#card-number',
                    placeholder: 'Numer Karty'
                },
                cvv: {
                    selector: '#cvv',
                    placeholder: 'Numer bezpieczeństwa karty'
                },
                expirationDate: {
                    selector: '#expiration-date',
                    placeholder: 'mm/yyyy'
                }
            }
        }).then(function (hf) {
            $('#my-sample-form').submit(function (event) {
                event.preventDefault();
                hf.submit({
                    // Cardholder Name
                    cardholderName: document.getElementById('card-holder-name').value,
                    // Billing Address
                    billingAddress: {
                        streetAddress: document.getElementById('card-billing-address-street').value,      // address_line_1 - street
                        extendedAddress: document.getElementById('card-billing-address-unit').value,       // address_line_2 - unit
                        region: document.getElementById('card-billing-address-state').value,           // admin_area_1 - state
                        locality: document.getElementById('card-billing-address-city').value,          // admin_area_2 - town / city
                        postalCode: document.getElementById('card-billing-address-zip').value,           // postal_code - postal_code
                        countryCodeAlpha2: document.getElementById('card-billing-address-country').value   // country_code - country
                    }
                    // redirect after successful order approval
                }).then(function () {
                    window.location.replace('http://www.tokago.pl/game/shop/review');
                }).catch(function (err) {
                    console.log('error: ', JSON.stringify(err));
                    document.getElementById("consoleLog").innerHTML = JSON.stringify(err);
                });
            });
        });
    }
    else {
        $('#my-sample-form').hide();  // hides the advanced credit and debit card payments fields if merchant isn't eligible
    }
</script>

</body>
</html>