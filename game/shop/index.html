<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Ensures optimal rendering on mobile devices. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <!-- Optimal Internet Explorer compatibility -->
    <title>Płatność | TOKAGO</title>
    <link rel="icon" type="image/png" href="../../res/photo/logo.png">
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../res/css/shop.css"/>

</head>
<body>

<!-- JavaScript SDK -->
<script src="https://www.paypal.com/sdk/js?components=hosted-fields,buttons&client-id=AbG5c5Gd_wKdtCEZGXXOAiPXg4NzBKqLTGSqvEvbZc1L6Mwanhuk90VRpfg_DYQNkLGT-QPQTwq4Hylv&currency=PLN>" data-client-token="<>"></script>
<h1>Monety o wartości 24.99zł</h1>
<!-- Buttons container -->
<table border="0" align="center" valign="top" bgcolor="#FFFFFF" style="width:39%">
    <tr>
        <td colspan="2">
            <div id="paypal-button-container"></div>
        </td>
    </tr>
    <tr><td colspan="2">&nbsp;</td></tr>
</table>

<div align="center" class="txt1"> lub </div>

<!-- Advanced credit and debit card payments form -->
<div class="col-75">
    <div class="container">
    <form id='my-sample-form'>

        <div class="row">
            <div class="col-50">
                <h3>Adres</h3>
                <label for="fname"><i class="fa fa-user"></i> Imię i Nazwisko</label>
                <input type="text" id="fname" name="firstname" placeholder="John M. Doe">
                <label for="email"><i class="fa fa-envelope"></i> Email</label>
                <input type="text" id="email" name="email" placeholder="john@example.com">
                <label for="adr"><i class="fa fa-address-card-o"></i> Adres</label>
                <input type="text" id="adr" name="address" placeholder="542 W. 15th Street">
                <label for="city"><i class="fa fa-institution"></i> Miejscowość</label>
                <input type="text" id="city" name="city" placeholder="Warszawa">

                <div class="row">
                    <div class="col-50">
                        <label for="state">Województwo</label>
                        <input type="text" id="state" name="state" placeholder="Lubuskie">
                    </div>
                    <div class="col-50">
                        <label for="zip">Kod pocztowy</label>
                        <input type="text" id="zip" name="zip" placeholder="00-000">
                    </div>
                </div>
            </div>

            <div class="col-50">
                <h3>Płatność</h3>
                <label for="fname">Akceptujemy karty</label>
                <div class="icon-container">
                    <i class="fa fa-cc-visa" style="color:navy;"></i>
                    <i class="fa fa-cc-amex" style="color:blue;"></i>
                    <i class="fa fa-cc-mastercard" style="color:red;"></i>
                    <i class="fa fa-cc-discover" style="color:orange;"></i>
                </div>
                <label for="cname">Nazwa na karcie</label>
                <input type="text" id="cname" name="cardname" placeholder="John More Doe">
                <label for="ccnum">Numer Karty Kredytowej</label>
                <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444">
                <label for="expmonth">Miesiąc wygaśnięcia</label>
                <input type="text" id="expmonth" name="expmonth" placeholder="05">
                <div class="row">
                    <div class="col-50">
                        <label for="expyear">Rok wygaśnięcia</label>
                        <input type="text" id="expyear" name="expyear" placeholder="2023">
                    </div>
                    <div class="col-50">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" name="cvv" placeholder="352">
                    </div>
                </div>
            </div>
        </div>
        <input type="submit" value="Zapłać" class="btn">
    </form>
</div>
</div>

<!-- Implementation -->
<script>
    //Displays PayPal buttons
    paypal.Buttons({
        commit: false,
        createOrder: function(data, actions) {
            // This function sets up the details of the transaction, including the amount and line item details
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: '2'
                    }
                }]
            });
        },
        onCancel: function (data) {
            // Show a cancel page, or return to cart
        },
        onApprove: function(data, actions) {
            // This function captures the funds from the transaction
            return actions.order.capture().then(function(details) {
                // This function shows a transaction success message to your buyer
                alert('Thanks for your purchase!');
            });
        }
    }).render('#paypal-button-container');
    // Eligibility check for advanced credit and debit card payments
    if (paypal.HostedFields.isEligible()) {
        paypal.HostedFields.render({
            createOrder: function () {return "order-ID";}, // replace order-ID with the order ID
            styles: {
                'input': {
                    'font-size': '17px',
                    'font-family': 'helvetica, tahoma, calibri, sans-serif',
                    'color': '#3a3a3a'
                },
                ':focus': {
                    'color': 'black'
                }
            },
            fields: {
                number: {
                    selector: '#card-number',
                    placeholder: 'card number'
                },
                cvv: {
                    selector: '#cvv',
                    placeholder: 'card security number'
                },
                expirationDate: {
                    selector: '#expiration-date',
                    placeholder: 'mm/yy'
                }
            }
        }).then(function (hf) {
            $('#my-sample-form').submit(function (event) {
                event.preventDefault();
                hf.submit({
                    // Cardholder Name
                    cardholderName: document.getElementById('card-holder-name').value,
                    // Billing Address
                    billingAddress: {
                        streetAddress: document.getElementById('card-billing-address-street').value,      // address_line_1 - street
                        extendedAddress: document.getElementById('card-billing-address-unit').value,       // address_line_2 - unit
                        region: document.getElementById('card-billing-address-state').value,           // admin_area_1 - state
                        locality: document.getElementById('card-billing-address-city').value,          // admin_area_2 - town / city
                        postalCode: document.getElementById('card-billing-address-zip').value,           // postal_code - postal_code
                        countryCodeAlpha2: document.getElementById('card-billing-address-country').value   // country_code - country
                    }
                    // redirect after successful order approval
                }).then(function () {
                    window.location.replace('http://www.tokago.pl/game/shop/review');
                }).catch(function (err) {
                    console.log('error: ', JSON.stringify(err));
                    document.getElementById("consoleLog").innerHTML = JSON.stringify(err);
                });
            });
        });
    }
    else {
        $('#my-sample-form').hide();  // hides the advanced credit and debit card payments fields if merchant isn't eligible
    }
</script>

</body>
</html>